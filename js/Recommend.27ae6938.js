(window.webpackJsonp=window.webpackJsonp||[]).push([["Recommend"],{"262a":function(t,n,a){},4802:function(t,n,a){"use strict";a.r(n);var e=a("b85c"),i=(a("b0c0"),a("a4d3"),a("e01a"),a("e9c4"),a("58ff"));function s(t){return Object(i.a)("/banner?type="+t)}var r=a("229e"),l=a("2bb4"),c=a("aaef");r.a.use(l.a);var o={name:"Recommend",data:function(){return{bannerData:[],albumData:[],currentPageIndex:0}},computed:{nums:function(){return this.bannerData.length},loading:function(){return!this.albumData.length&&!this.bannerData.length}},created:function(){this.initBannerData(),this.initAlbumData()},methods:{initSlider:function(){var t=this;this.slide=new r.a(this.$refs.slide,{scrollX:!0,scrollY:!1,slide:!0,momentum:!1,bounce:!1,stopPropagation:!0,mouseWheel:!0,click:!0,tap:"tap"}),this.slide.on("scrollEnd",this._onScrollEnd),this.slide.on("slideWillChange",(function(n){t.currentPageIndex=n.pageX}))},initScroll:function(){this.scroll=new r.a(".scroll",{mouseWheel:!0,click:!0,tap:"tap"})},nextPage:function(){this.slide.next()},prePage:function(){this.slide.prev()},initBannerData:function(){var t=this,n=this;s("2").then((function(a){if(200===a.code){var i,s=[],r=Object(e.a)(a.banners);try{for(r.s();!(i=r.n()).done;){var l=i.value;if(Object.prototype.hasOwnProperty.call(l,"url")&&l.url){var c={pic:l.pic,url:l.url};s.push(c)}}}catch(t){r.e(t)}finally{r.f()}t.bannerData=s}n.$nextTick((function(){t.initSlider()}))}))},initAlbumData:function(){var t=this,n=this;(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;return Object(i.a)("/top/playlist/highquality?cat="+t+"&limit="+n)})().then((function(a){var i=[];if(200===a.code){var s,r=Object(e.a)(a.playlists);try{for(r.s();!(s=r.n()).done;){var l=s.value,c={name:l.name,desc:l.description,url:l.coverImgUrl,id:l.id};i.push(c)}}catch(t){r.e(t)}finally{r.f()}t.albumData=i}n.$nextTick((function(){n.initScroll()}))}))},handleListClick:function(t){var n={id:t.id,name:t.name,url:t.url};localStorage.setItem(c.d,JSON.stringify(n)),this.$router.push({path:"/recommend/".concat(t.id)})}},beforeDestroy:function(){this.slide.destroy()},updated:function(){},activated:function(){}},u=(a("e989"),a("2877")),d=Object(u.a)(o,(function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"recommend"},[t.loading?a("van-loading",{staticClass:"loading",attrs:{type:"spinner",color:"#ffcd32"}}):t._e(),a("div",{staticClass:"scroll"},[a("div",{staticClass:"wrap"},[a("div",{staticClass:"slide-banner"},[a("div",{staticClass:"banner-wrapper"},[a("div",{ref:"slide",staticClass:"slide-banner-wrapper"},[a("div",{staticClass:"slide-banner-content"},t._l(t.bannerData,(function(t){return a("div",{key:t.songID,staticClass:"slide-page"},[a("a",{attrs:{href:t.url}},[a("img",{attrs:{src:t.pic}})])])})),0)]),a("div",{staticClass:"dots-wrapper"},t._l(t.nums,(function(n){return a("span",{key:n,staticClass:"dot",class:{active:t.currentPageIndex===n-1},attrs:{data:n}})})),0)])]),a("div",{staticClass:"recommend-list"},[a("h1",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}]},[t._v("热门歌单推荐")]),a("ul",t._l(t.albumData,(function(n){return a("li",{key:n.id,on:{click:function(a){return t.handleListClick(n)}}},[a("div",{staticClass:"cover"},[a("img",{attrs:{src:n.url,alt:""}})]),a("div",{staticClass:"desc"},[a("p",[t._v(t._s(n.name))]),a("p",[t._v(t._s(n.desc))])])])})),0)])])]),a("router-view")],1)}),[],!1,null,"a3350220",null);n.default=d.exports},e989:function(t,n,a){"use strict";a("262a")}}]);